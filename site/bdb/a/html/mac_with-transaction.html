<!-- Berkeley DB package, version 1.7 generated by paul -->
<HTML>
<HEAD>
<TITLE>Berkeley DB: Macro WITH-TRANSACTION</TITLE>
<META HTTP-EQUIV="Author" CONTENT="Paul Foley">
</HEAD>
<BODY>

<HR>

<A NAME="with-transaction"><I>Macro</I> <B>WITH-TRANSACTION</B></A><P>
<P><B>Syntax:</B><P>
 <P>
<B>with-transaction</B> <I>(&optional parent &key environment retry flags)</I> <I>form*</I> =&gt; <I>result*</I>
 <P>
<P><B>Arguments and Values:</B><P>
 <P>
<I>parent</I>---a <I>transaction</I>, <TT>t</TT> or <TT>nil</TT><P>
<I>environment</I>---an <I>environment</I><P>
<I>retry</I>---a <I>boolean</I><P>
<I>flags</I>---an <I>integer</I><P>
<I>form</I>---an <A HREF="http://sherlock/Lisp/HyperSpec/Body/glo_i.html#implicit_progn">implicit progn</A><P>
<I>result</I>---the results returned by the body<P>
<P><B>Description:</B><P>
 <P>
Evaluates its body in a new transaction.  The transaction is automatically
    aborted if control is thrown out of the WITH-TRANSACTION form abnormally,
    and committed otherwise.  If parent is T (the default), the current
    transaction is used as parent for the new transaction.  If retry is
    non-NIL and a deadlock occurs, the transaction will be aborted and 
    the WITH-TRANSACTION form will be retried.
    The special variable *transaction* is bound to the new transaction. <P>

<HR>
</BODY>
</HTML>

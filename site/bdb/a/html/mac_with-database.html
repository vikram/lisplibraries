<!-- Berkeley DB package, version 1.7 generated by paul -->
<HTML>
<HEAD>
<TITLE>Berkeley DB: Macro WITH-DATABASE</TITLE>
<META HTTP-EQUIV="Author" CONTENT="Paul Foley">
</HEAD>
<BODY>

<HR>

<A NAME="with-database"><I>Macro</I> <B>WITH-DATABASE</B></A><P>
<P><B>Syntax:</B><P>
 <P>
<B>with-database</B> <I>(name &optional file database &key environment type
                         create read-only mode transaction password cipher
                         encrypt allow-duplicates allow-btree-record-numbers
                         coalesce-empty-pages renumber snapshot flags)</I> <I>form*</I> =&gt; <I>result*</I>
 <P>
<P><B>Arguments and Values:</B><P>
 <P>
<I>name</I>---a <A HREF="http://sherlock/Lisp/HyperSpec/Body/glo_v.html#variable">variable</A><P>
<I>file</I>---a <A HREF="http://sherlock/Lisp/HyperSpec/Body/glo_p.html#pathname_designator">pathname designator</A><P>
<I>database</I>---a <I>string</I>, or <TT>nil</TT><P>
<I>environment</I>---an <I>environment</I><P>
<I>type</I>---one of <TT>:btree</TT>, <TT>:hash</TT>, <TT>:queue</TT>, <TT>:recno</TT> or <TT>:unknown</TT><P>
<I>create</I>---one of <TT>t</TT>, <TT>nil</TT> or <TT>:excl</TT><P>
<I>read-only</I>---a <I>boolean</I><P>
<I>mode</I>---an <I>integer</I><P>
<I>transaction</I>---a <I>transaction</I>, or <TT>nil</TT><P>
<I>password</I>---a <I>string</I><P>
<I>cipher</I>---one of <TT>:unknown</TT>, <TT>:aes</TT>, or <TT>:rijndael</TT><P>
<I>encrypt</I>---a <I>boolean</I><P>
<I>allow-duplicates</I>---one of <TT>t</TT>, <TT>nil</TT> or <TT>:sorted</TT><P>
<I>allow-btree-record-numbers</I>---a <I>boolean</I><P>
<I>coalesce-empty-pages</I>---a <I>boolean</I><P>
<I>renumber</I>---a <I>boolean</I><P>
<I>snapshot</I>---a <I>boolean</I><P>
<I>flags</I>---an <I>integer</I><P>
<I>form</I>---an <A HREF="http://sherlock/Lisp/HyperSpec/Body/glo_i.html#implicit_progn">implicit progn</A><P>
<I>result</I>---the results returned by the body<P>
<P><B>Description:</B><P>
 <P>
Evaluates its body with name bound to a DB.
    When file is given, the DB will be created and opened on that
    file, optionally to a named database within that file.  If type is
    :unknown (the default), the database type will be detected
    automatically (the database must already exist).  If create is
    true, the database will be created if it doesn't already exist.
    If read-only is true, the database will be opened for read only
    operation.  When creating a new file, the file permissions are set
    to mode (as affected by the user's umask).
    If file is not given, the database will not be opened; in this
    case the :environment keyword and value can be given without
    having to supply NIL values for file and database.
    If password is given, DB-SET-ENCRYPTION will be called to set the
    password, and encryption will be enabled.  If environment is non-NIL,
    the password should be set in the environment, not on the database,
    and encrypt should be true to enable encryption of the database.
    The DB will be closed when control leaves the WITH-DATABASE form. <P>

<HR>
</BODY>
</HTML>
